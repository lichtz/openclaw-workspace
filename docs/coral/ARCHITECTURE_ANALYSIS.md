# Coral Android é¡¹ç›®ç»¼åˆåˆ†ææŠ¥å‘Š

## ğŸ“Š é¡¹ç›® åŸºæœ¬ä¿¡æ¯

æ¦‚è§ˆ

###| é¡¹ç›® | Coral H5 å®¹å™¨ |
|------|---------------|
| **ä»£ç é‡** | 995 ä¸ªæ–‡ä»¶ (140,247 è¡Œ Java + 149 è¡Œ Kotlin) |
| **ä¸»è¯­è¨€** | Java (99.9%) |
| **æ¨¡å—æ•°** | 9 ä¸ªä¸šåŠ¡æ¨¡å— |
| **ç›®æ ‡ SDK** | Android 35 (minSdk 24) |
| **æ„å»ºå·¥å…·** | Gradle 8.8.0 + AGP 8.8.0 |
| **Kotlin ç‰ˆæœ¬** | 2.0.0 |

---

## ğŸ—ï¸ æ¨¡å—ç»“æ„åˆ†æ

### æ¨¡å—åˆ†å¸ƒç»Ÿè®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¨¡å—                        â”‚ Javaæ–‡ä»¶  â”‚ ä¸»è¦èŒè´£        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ base-flame-nebula          â”‚ 629       â”‚ H5å®¹å™¨æ ¸å¿ƒ      â”‚
â”‚ adapter-flame               â”‚ 144       â”‚ H5é€‚é…å±‚        â”‚
â”‚ base----flame-basis         â”‚ 56        â”‚ åŸºç¡€ç½‘ç»œ/æ•°æ®åº“  â”‚
â”‚ app                         â”‚ 40        â”‚ ä¸»åº”ç”¨          â”‚
â”‚ base---utils                â”‚ 39        â”‚ å·¥å…·ç±»          â”‚
â”‚ base--flame-offlineres      â”‚ 32        â”‚ ç¦»çº¿èµ„æº        â”‚
â”‚ base----log                 â”‚ 17        â”‚ æ—¥å¿—ç³»ç»Ÿ        â”‚
â”‚ base---flame-core           â”‚ 16        â”‚ æ ¸å¿ƒé…ç½®        â”‚
â”‚ base-data-cache             â”‚ 11        â”‚ æ•°æ®ç¼“å­˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŒ…åç»“æ„

```
com.stht.coral                           # ä¸»åº”ç”¨
com.ynet.finmall.adapter                 # H5é€‚é…å±‚
  â”œâ”€â”€ adapter/h5/view                    # è§†å›¾
  â”œâ”€â”€ adapter/h5/plugin                  # æ’ä»¶
  â”œâ”€â”€ adapter/h5/provider                # Provider
  â”œâ”€â”€ adapter/h5/manager                 # ç®¡ç†å™¨
  â”œâ”€â”€ adapter/h5/utils                   # å·¥å…·
  â””â”€â”€ adapter/h5/appConfig               # é…ç½®

com.ynetpay.mobile                       # H5å®¹å™¨æ ¸å¿ƒ
  â”œâ”€â”€ h5container/api                    # API
  â”œâ”€â”€ h5container/service                # æœåŠ¡
  â”œâ”€â”€ nebula                             # æ ¸å¿ƒæ¨¡å—
  â”‚   â”œâ”€â”€ activity                       # é¡µé¢
  â”‚   â”œâ”€â”€ manager                        # ç®¡ç†å™¨
  â”‚   â”œâ”€â”€ bridge                         # æ¡¥æ¥
  â”‚   â”œâ”€â”€ provider                       # Provider
  â”‚   â”œâ”€â”€ util                          # å·¥å…·
  â”‚   â”œâ”€â”€ view                          # è‡ªå®šä¹‰è§†å›¾
  â”‚   â”œâ”€â”€ config                        # é…ç½®
  â”‚   â”œâ”€â”€ callback                      # å›è°ƒ
  â”‚   â”œâ”€â”€ network                       # ç½‘ç»œ
  â”‚   â”œâ”€â”€ permission                    # æƒé™
  â”‚   â””â”€â”€ resource                      # èµ„æº
  â”œâ”€â”€ nebulacore                         # æ ¸å¿ƒå®ç°
  â”‚   â”œâ”€â”€ manager                       # ç®¡ç†å™¨
  â”‚   â”œâ”€â”€ bridge                        # æ¡¥æ¥
  â”‚   â”œâ”€â”€ plugin                        # æ’ä»¶
  â”‚   â”œâ”€â”€ view                         # è§†å›¾
  â”‚   â”œâ”€â”€ ui                           # é¡µé¢
  â”‚   â””â”€â”€ biz                          # ä¸šåŠ¡
  â””â”€â”€ quinox                            # åŸºç¡€è®¾æ–½
      â”œâ”€â”€ app                           # åº”ç”¨
      â”œâ”€â”€ application                  # åº”ç”¨ç±»
      â”œâ”€â”€ service                      # æœåŠ¡
      â””â”€â”€ utils                        # å·¥å…·

com.ynet.flame                           # åŸºç¡€æ¨¡å—
  â”œâ”€â”€ basis                             # åŸºç¡€åº“
  â”‚   â”œâ”€â”€ network                       # ç½‘ç»œ
  â”‚   â”œâ”€â”€ DBmanager                     # æ•°æ®åº“
  â”‚   â””â”€â”€ utils                        # å·¥å…·
  â”œâ”€â”€ core                              # æ ¸å¿ƒ
  â”‚   â”œâ”€â”€ configServer                  # é…ç½®æœåŠ¡
  â”‚   â””â”€â”€ networkex                     # ç½‘ç»œæ‰©å±•
  â””â”€â”€ ...

com.ynet.finmall.base                    # ä¸šåŠ¡åŸºç¡€
  â”œâ”€â”€ baseutils                         # å·¥å…·ç±»
  â””â”€â”€ log                               # æ—¥å¿—
```

---

## ğŸ¯ æ¶æ„æ¨¡å¼åˆ†æ

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         åº”ç”¨å±‚ (app)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   MainActivity                           â”‚   â”‚
â”‚  â”‚              (ViewBinding + ä¸šåŠ¡è°ƒç”¨)                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      é€‚é…å±‚ (adapter-flame)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  H5ActivityManager   â”‚   H5Plugin   â”‚   H5Provider      â”‚   â”‚
â”‚  â”‚  (Activityç”Ÿå‘½å‘¨æœŸ)      (æ’ä»¶åŒ–)         (ç»„ä»¶æ³¨å…¥)       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å®¹å™¨å±‚ (base-flame-nebula)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  H5Activity    â”‚   H5Bridge    â”‚   H5WebView           â”‚   â”‚
â”‚  â”‚  (é¡µé¢ç®¡ç†)        (JSæ¡¥æ¥)          (WebViewå°è£…)         â”‚   â”‚
â”‚  â”‚  H5Provider    â”‚   H5Plugin    â”‚   H5Manager           â”‚   â”‚
â”‚  â”‚  (ç»„ä»¶)           (æ’ä»¶)            (æ ¸å¿ƒç®¡ç†)             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ ¸å¿ƒå±‚ (base---flame-core)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ConfigServer   â”‚   NetworkEx   â”‚   Utils              â”‚   â”‚
â”‚  â”‚  (é…ç½®æœåŠ¡)        (ç½‘ç»œæ‰©å±•)          (åŸºç¡€å·¥å…·)           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     åŸºç¡€å±‚ (base----flame-basis)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  OkHttp3       â”‚   SQLCipher   â”‚   FastJSON             â”‚   â”‚
â”‚  â”‚  (ç½‘ç»œ)          (æ•°æ®åº“)          (JSON)                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¶æ„æ¨¡å¼è¯†åˆ«

| å±‚é¢ | æ¨¡å¼ | è¯´æ˜ |
|------|------|------|
| **æ•´ä½“** | **Bundle/Plugin** | æ¨¡å—åŒ– Bundle æ¶æ„ |
| **å®¹å™¨** | **Provider pattern** | é€šè¿‡ ProviderManager æ³¨å…¥ç»„ä»¶ |
| **WebView** | **Bridge pattern** | JS-Java æ¡¥æ¥æ¨¡å¼ |
| **Activity** | **Template Method** | H5BaseActivity å®šä¹‰æ¨¡æ¿ |
| **ç½‘ç»œ** | **Chain of Responsibility** | æ‹¦æˆªå™¨é“¾ |
| **äº‹ä»¶** | **EventBus** | AndroidEventBus äº‹ä»¶æ€»çº¿ |

### è®¾è®¡æ¨¡å¼ä½¿ç”¨

```
âœ… Manager Pattern      - H5ActivityManager, H5BridgeManager
âœ… Provider Pattern      - H5Provider, ProviderManager
âœ… Bridge Pattern        - H5Bridge (JSæ¡¥æ¥)
âœ… Observer Pattern      - EventBus, Callback
âœ… Singleton Pattern     - LauncherApplicationAgent
âœ… Factory Pattern       - H5PluginFactory
âœ… Builder Pattern       - OkHttp Request.Builder
âœ… Strategy Pattern      - H5Config, H5Strategy
âœ… Template Method       - H5BaseActivity
```

---

## ğŸŒ‰ H5 å®¹å™¨æ ¸å¿ƒæœºåˆ¶

### JS-Java Bridge æ¶æ„

```mermaid
graph LR
    subgraph "JS Layer"
        JS[JS Bridge API]
    end

    subgraph "Bridge Layer"
        Bridge[H5Bridge]
        Interceptor[Bridge Interceptor]
    end

    subgraph "Provider Layer"
        Provider[H5Provider]
        Manager[H5ProviderManager]
    end

    subgraph "Business Layer"
        Plugin[H5Plugin]
        Biz[ä¸šåŠ¡å®ç°]
    end

    JS --> Bridge
    Bridge --> Interceptor
    Interceptor --> Manager
    Manager --> Provider
    Provider --> Plugin
    Plugin --> Biz
```

### æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶ | ç±»è·¯å¾„ | èŒè´£ |
|------|--------|------|
| **H5Activity** | `nebulacore.ui.H5Activity` | H5 å®¹å™¨é¡µé¢ |
| **H5WebView** | `nebulacore.web.H5WebView` | WebView å°è£… |
| **H5Bridge** | `nebulacore.bridge.H5Bridge` | JSæ¡¥æ¥æ ¸å¿ƒ |
| **H5ProviderManager** | `nebulacore.manager.H5ProviderManager` | Provider ç®¡ç† |
| **H5PluginManager** | `nebulacore.manager.H5PluginManager` | æ’ä»¶ç®¡ç† |
| **H5Session** | `h5container.api.H5Session` | Session ç®¡ç† |
| **H5Service** | `h5container.service.H5Service` | å®¹å™¨æœåŠ¡ |

### é¡µé¢ç”Ÿå‘½å‘¨æœŸ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ onCreate()  â”‚ â† H5BaseActivity.onCreate()
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ onStart()   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ onResume()  â”‚ â† H5Activity.onResume() â†’ JS: onShow
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ onPause()   â”‚ â† H5Activity.onPause() â†’ JS: onHide
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ onStop()    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ onDestroy() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¡ API æ¥å£åˆ†æ

### æš´éœ²ç»™ Native çš„ API

```java
// H5Service æ¥å£
public interface H5Service {
    H5Session getTopSession();
    List<H5Session> getSessions();
    void startApp(String appId);
    void startApp(String appId, Map<String, Object> params);
    void closeSession(String sessionId);
}

// H5Session æ¥å£
public interface H5Session {
    String getId();
    String getUrl();
    List<H5Page> getPages();
    void navigateTo(String url);
    void goBack();
    void reload();
}
```

### JS æš´éœ²çš„æ–¹æ³•

```javascript
// JS è°ƒç”¨ Native
HybridAPI.callNative(methodName, params, callback);

// Native è°ƒç”¨ JS
H5Bridge.callJS(bridgeId, methodName, params);

// å¸¸ç”¨æ–¹æ³•
HybridAPI.setTitle(params)
HybridAPI.setNavigationBarStyle(params)
HybridAPI.share(params)
HybridAPI.getLocation(params)
HybridAPI.scanQRCode(params)
HybridAPI.navigateToMiniProgram(params)
```

### æ’ä»¶æœºåˆ¶

```mermaid
graph TD
    subgraph "Plugin Registration"
        Config[H5Config.json] --> Register[PluginRegistry]
    end

    subgraph "Plugin Execution"
        Request[JS Request] --> Bridge[H5Bridge]
        Bridge --> Interceptor[PluginInterceptor]
        Interceptor --> Dispatch[PluginDispatcher]
        Dispatch --> Plugin[H5Plugin]
        Plugin --> Executor[PluginExecutor]
    end

    subgraph "Built-in Plugins"
        UI[H5UIPlugin]
        Navigator[H5NavigatorPlugin]
        Storage[H5StoragePlugin]
        Location[H5LocationPlugin]
        Share[H5SharePlugin]
    end
```

---

## ğŸ”Œ ç¬¬ä¸‰æ–¹ SDK é›†æˆ

### ç¤¾äº¤åˆ†äº«

| SDK | ç”¨é€” | é›†æˆæ–¹å¼ |
|-----|------|----------|
| **å¾®ä¿¡ SDK** | å¾®ä¿¡ç™»å½•/åˆ†äº« | `com.tencent.mm.opensdk:wechat-sdk-android-with-mta:5.4.0` |
| **å‹ç›Ÿ SDK** | ç»Ÿè®¡åˆ†æ | `com.umeng.umsdk:common:9.4.2` |
| **QQ SDK** | QQç™»å½•/åˆ†äº« | `com.tencent.tauth:qqopensdk:3.53.0` |

**é›†æˆæ–¹å¼ï¼š**
```java
// å¾®ä¿¡åˆ†äº«ç¤ºä¾‹
IWXAPI api = WXAPIFactory.createWXAPI(context, APP_ID);
api.registerApp(APP_ID);
SendMessageToWX.Req req = new SendMessageToWX.Req();
req.transaction = buildTransaction("webpage");
req.message = message;
api.sendReq(req);
```

### ç½‘ç»œ

| åº“ | ç”¨é€” | ç‰ˆæœ¬ |
|---|------|------|
| **OkHttp3** | HTTP å®¢æˆ·ç«¯ | 4.9.2 |
| **FastJSON** | JSON è§£æ | 1.2.73 |

### å›¾ç‰‡

| åº“ | ç”¨é€” | ç‰ˆæœ¬ |
|---|------|------|
| **Glide** | å›¾ç‰‡åŠ è½½ | 5.0.5 |
| **AndroidSVG** | SVG è§£æ | 1.2.1 |

### æ•°æ®åº“

| åº“ | ç”¨é€” | ç‰ˆæœ¬ |
|---|------|------|
| **SQLCipher** | æ•°æ®åº“åŠ å¯† | 3.5.6 |
| **GreenDAO** | ORM | 3.0.0 |

### å·¥å…·åº“

| åº“ | ç”¨é€” | ç‰ˆæœ¬ |
|---|------|------|
| **Hutool** | å·¥å…·ç±» | 5.8.17 |
| **Apache Commons** | å·¥å…·ç±» | 3.7 |
| **EventBus** | äº‹ä»¶æ€»çº¿ | 1.0.5.1 |
| **RxJava3** | å¼‚æ­¥ | 3.0.12 |

---

## ğŸ—‚ï¸ ä»£ç ç»“æ„æœ€ä½³å®è·µ

### é¡¹ç›®ç»„ç»‡

```
âœ… è‰¯å¥½çš„å®è·µ
â”œâ”€â”€ æŒ‰åŠŸèƒ½åˆ†åŒ… (feature-based)
â”œâ”€â”€ æ˜ç¡®çš„ä¾èµ–æ–¹å‘ (ä¸Šå±‚ä¾èµ–ä¸‹å±‚)
â”œâ”€â”€ Manager æ¨¡å¼ç®¡ç†å…¨å±€çŠ¶æ€
â”œâ”€â”€ Provider æ¨¡å¼å®ç°ä¾èµ–æ³¨å…¥
â”œâ”€â”€ æ’ä»¶åŒ–æ¶æ„ä¾¿äºæ‰©å±•

âš ï¸ éœ€æ”¹è¿›çš„åœ°æ–¹
â”œâ”€â”€ Java ä»£ç åå¤šï¼ŒKotlin æ¸—é€ç‡ä½
â”œâ”€â”€ éƒ¨åˆ†æ¨¡å—èŒè´£ä¸å¤Ÿå•ä¸€
â”œâ”€â”€ ç¼ºå°‘ç»Ÿä¸€çš„æ¶æ„çº¦æŸ (å¦‚ MVP/MVVM)
â”œâ”€â”€ æµ‹è¯•è¦†ç›–ä¸è¶³
â””â”€â”€ æ–‡æ¡£ç¼ºå¤±
```

---

## ğŸ“ˆ å¤æ‚åº¦è¯„ä¼°

### ä»£ç å¤æ‚åº¦ (æŒ‰æ¨¡å—)

| æ¨¡å— | æ–‡ä»¶æ•° | å¤æ‚åº¦è¯„çº§ |
|------|--------|-----------|
| base-flame-nebula | 629 | ğŸ”´ é«˜ (æ ¸å¿ƒæ¨¡å—) |
| adapter-flame | 144 | ğŸŸ¡ ä¸­ |
| base----flame-basis | 56 | ğŸŸ¡ ä¸­ |
| base---utils | 39 | ğŸŸ¢ ä½ |
| app | 40 | ğŸŸ¢ ä½ |
| base--flame-offlineres | 32 | ğŸŸ¢ ä½ |
| base----log | 17 | ğŸŸ¢ ä½ |
| base---flame-core | 16 | ğŸŸ¢ ä½ |
| base-data-cache | 11 | ğŸŸ¢ ä½ |

### æŠ€æœ¯å€ºè¯†åˆ«

| é—®é¢˜ | å½±å“ | å»ºè®® |
|------|------|------|
| Java ä¸ºä¸» | ç»´æŠ¤æˆæœ¬é«˜ | é€æ­¥è¿ç§» Kotlin |
| ç¼ºå°‘æµ‹è¯• | è´¨é‡é£é™© | æ·»åŠ å•å…ƒæµ‹è¯• |
| äº‹ä»¶æ€»çº¿ | è¿½è¸ªå›°éš¾ | è€ƒè™‘ LiveData/RxBus |
| å…¨å±€ Manager | è€¦åˆåº¦é«˜ | è€ƒè™‘ä¾èµ–æ³¨å…¥ |
| æ–‡æ¡£ç¼ºå¤± | äº¤æ¥å›°éš¾ | æ·»åŠ  KDoc |

---

## ğŸ” å…³é”®æ–‡ä»¶ç´¢å¼•

### æ ¸å¿ƒç±»

| æ–‡ä»¶ | è·¯å¾„ | é‡è¦æ€§ |
|------|------|--------|
| H5Activity.java | `nebulacore/ui/H5Activity.java` | â­â­â­ |
| H5Bridge.java | `nebulacore/bridge/H5Bridge.java` | â­â­â­ |
| H5ProviderManagerImpl.java | `nebulacore/manager/H5ProviderManagerImpl.java` | â­â­â­ |
| H5PluginManagerImpl.java | `nebulacore/manager/H5PluginManagerImpl.java` | â­â­â­ |
| H5ActivityManager.java | `adapter/h5/manager/H5ActivityManager.java` | â­â­ |
| H5WebView.java | `nebulacore/web/H5WebView.java` | â­â­ |
| H5Session.java | `h5container/api/H5Session.java` | â­â­ |
| H5Service.java | `h5container/service/H5Service.java` | â­â­ |

### é…ç½®æ–‡ä»¶

| æ–‡ä»¶ | è·¯å¾„ | ç”¨é€” |
|------|------|------|
| build.gradle | é¡¹ç›®æ ¹ç›®å½• | æ„å»ºé…ç½® |
| settings.gradle | é¡¹ç›®æ ¹ç›®å½• | æ¨¡å—é…ç½® |
| libs.versions.toml | gradle/ | ç‰ˆæœ¬ç®¡ç† |

---

## ğŸ¯ é‡æ„å»ºè®®ä¼˜å…ˆçº§

### P0 - ç´§æ€¥

- [ ] ç»Ÿä¸€ä»£ç è§„èŒƒ (Kotlin è¿ç§»)
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•æ¡†æ¶
- [ ] å»ºç«‹ CI/CD

### P1 - é«˜

- [ ] å¼•å…¥æ¶æ„ç»„ä»¶ (ViewModel, LiveData)
- [ ] æ›¿ä»£ EventBus (ä½¿ç”¨ RxBus)
- [ ] æ·»åŠ ä¾èµ–æ³¨å…¥ (Hilt/Koin)

### P2 - ä¸­

- [ ] å®Œå–„ KDoc æ–‡æ¡£
- [ ] é‡æ„å¤§å‹ Manager ç±»
- [ ] æ€§èƒ½ä¼˜åŒ– (WebView å¤ç”¨)

### P3 - ä½

- [ ] UI ç°ä»£åŒ– (Material Design 3)
- [ ] æ·»åŠ  lint æ£€æŸ¥
- [ ] ä»£ç è¦†ç›–ç‡æŠ¥å‘Š

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´: 2026-02-05*
*åˆ†æå·¥å…·: æ‰‹åŠ¨ä»£ç å®¡æŸ¥*
